"use strict";(self.webpackChunkSshModule_Page=self.webpackChunkSshModule_Page||[]).push([[35],{5035:(P,p,s)=>{s.r(p),s.d(p,{HomeModule:()=>l});var h=s(6895),g=s(8477),a=s(433),i=(()=>{return(t=i||(i={}))[t.SERVER_RESPONSE=0]="SERVER_RESPONSE",t[t.USER_COMMAND=1]="USER_COMMAND",i;var t})(),n=s(1571),f=s(4004),C=s(529);class r{constructor(o){this.http=o,this.BASE_URL="http://localhost:8080"}get host$(){return this.http.get(`${this.BASE_URL}/host`).pipe((0,f.U)(o=>o.host))}get user$(){return this.http.get(`${this.BASE_URL}/user`).pipe((0,f.U)(o=>o.user))}}r.\u0275fac=function(o){return new(o||r)(n.LFG(C.eN))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"});var x=s(4144),d=s(7676);function v(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",8)(2,"span",9),n._uU(3),n.qZA(),n.TgZ(4,"span",10),n._uU(5),n.qZA()(),n.BQk()),2&t){const e=n.oxw().$implicit,m=n.oxw();n.xp6(3),n.Oqu(m.getUserCommandLocation(e)),n.xp6(2),n.Oqu(m.getUserCommandLine(e))}}function O(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"span",11),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.line)}}function M(t,o){if(1&t&&(n.ynx(0),n.YNc(1,v,6,2,"ng-container",7),n.YNc(2,O,3,1,"ng-container",7),n.BQk()),2&t){const e=o.$implicit,m=n.oxw();n.xp6(1),n.Q6J("ngIf",m.isUserCommand(e)),n.xp6(1),n.Q6J("ngIf",!m.isUserCommand(e))}}class u{constructor(o){this.configService=o,this.inputController=new a.NI,this.consoleLines=[]}ngOnInit(){this._host=this.configService.host$.subscribe(o=>{this.host=o,this.consoleLines.push({type:i.SERVER_RESPONSE,line:"Vous \xeates connectez sur le serveur "+this.host})}),this._user=this.configService.user$.subscribe(o=>this.user=o)}ngOnDestroy(){this._host?.unsubscribe(),this._user?.unsubscribe()}get folder(){return"home/etc"}get currentLocation(){return`${this.user}@${this.host} ~/${this.folder} `}sendCommand(){console.log(this.inputController.value),this.consoleLines.push({line:`${this.currentLocation}${this.inputController.value}`,type:i.USER_COMMAND}),console.log(this.consoleLines),this.inputController.reset()}isUserCommand(o){return o.type===i.USER_COMMAND}getUserCommandLocation(o){return o.line.substring(0,this.currentLocation.length)}getUserCommandLine(o){return o.line.substring(this.currentLocation.length,o.line.length)}}u.\u0275fac=function(o){return new(o||u)(n.Y36(r))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-home"]],decls:12,vars:4,consts:[[1,"title"],[1,"console-box"],[4,"ngFor","ngForOf"],[1,"console-input"],[1,"console-input-field"],["matPrefix",""],["matInput","","type","text",3,"formControl","keydown.enter"],[4,"ngIf"],[1,"user-command"],[1,"command-location"],[1,"command-line"],[1,"server-response-line"]],template:function(o,e){1&o&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2),n.qZA()(),n.TgZ(3,"div",1),n.YNc(4,M,3,2,"ng-container",2),n.qZA(),n.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),n._uU(8,"entrer votre commande"),n.qZA(),n.TgZ(9,"span",5),n._uU(10),n.qZA(),n.TgZ(11,"input",6),n.NdJ("keydown.enter",function(){return e.sendCommand()}),n.qZA()()()),2&o&&(n.xp6(2),n.hij("Serveur : ",e.host,""),n.xp6(2),n.Q6J("ngForOf",e.consoleLines),n.xp6(6),n.Oqu(e.currentLocation),n.xp6(1),n.Q6J("formControl",e.inputController))},dependencies:[h.sg,h.O5,x.Nt,d.KE,d.hX,d.qo,a.Fj,a.JJ,a.oH],styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:row;flex-wrap:nowrap}.console-box[_ngcontent-%COMP%]{min-width:80%;min-height:60%;height:60%;background-color:#2f4f4f;color:#fff;overflow-y:scroll;display:flex;flex-direction:column;justify-content:flex-end}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]{display:inline}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]   .command-location[_ngcontent-%COMP%]{color:#adff2f}.console-box[_ngcontent-%COMP%]   .user-command[_ngcontent-%COMP%]   .command-line[_ngcontent-%COMP%]{color:#fff}.console-box[_ngcontent-%COMP%]   .server-response-line[_ngcontent-%COMP%]{color:#d3d3d3}.console-input[_ngcontent-%COMP%]{min-width:98%;min-height:10%;display:inline-flex;flex-wrap:nowrap;flex-direction:row;margin:1em}.console-input[_ngcontent-%COMP%]   .console-input-field[_ngcontent-%COMP%]{width:100%}"]});const S=[{path:"",component:u}];class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[g.Bz.forChild(S),g.Bz]});var y=s(3016),U=s(294);class l{}l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[h.ez,c,y.m,U.I]})}}]);